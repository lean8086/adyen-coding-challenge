(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,a,t){e.exports=t(76)},62:function(e,a,t){},64:function(e,a,t){},67:function(e,a,t){},69:function(e,a,t){},71:function(e,a,t){},73:function(e,a,t){},76:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(21),o=t.n(c),l=t(22),s=t(23),u=t(29),i=t(24),m=t(30),p=t(4),E=t(3),d=t(7),f="https://api.foursquare.com/v2/venues/explore",v={client_id:"0KNJF0EKA2CKJKQKDZZIARZAAIQMRLIWSNMPYKVRSHAVCD55",client_secret:"2YALLC4Q5XCOXF0JBIFAE5JW5G4YQ4XKFIZ1XY42MHVSGLXR",v:"20180323",limit:10},b="https://api.ipdata.co?api-key=0e62dd27de5aebf9c41206a0b0209dab1c5b406a27cc811a55656513",g=function(e){return{type:"LOCATE",ll:e}},h=(t(62),function(){return r.a.createElement("header",{className:"banner",role:"banner"},r.a.createElement("div",{className:"innerContainer"},r.a.createElement("h1",{className:"banner__text"},"Human-readable Foursquare filters"),r.a.createElement("a",{href:"https://github.com/lean8086/human-readable-foursquare-filters"},r.a.createElement("img",{className:"banner__img",src:"https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"}))))}),_=t(6),y={day:{Today:"",Someday:"any"},section:{"drink some coffee":"coffee","eat some food":"food","have a drink":"drinks","go shopping":"shops","see something artsy":"arts","explore sights":"sights"},price:{"all the":"1,2,3,4",cheap:"1",affordable:"1,2",reasonable:"2,3",pricey:"3,4"},openNow:{"are open now":1,"may be open or not":0},radius:{"5 blocks":500,"10 blocks":1e3,"20 blocks":2e3,"40 blocks":4e3,"a galaxy far far":1e4}},N=(t(64),function(e){var a=e.type,t=e.value,n=e.updateParams;return r.a.createElement("select",{className:"searchbox__select",name:a,value:t,onChange:function(e){return n(Object(_.a)({},a,e.target.value))}},Object.keys(y[a]).map(function(e){return r.a.createElement("option",{key:y[a][e],value:y[a][e]},e)}))}),O={updateParams:function(e){return{type:"UPDATE_PARAMS",params:e}}},S=Object(p.b)(function(e){return{params:e.params}},O)(function(e){return r.a.createElement(N,e)}),j=(t(66),t(67),function(e){var a=e.day,t=e.section,n=e.radius,c=e.price,o=e.openNow;return r.a.createElement("div",{className:"searchBox"},r.a.createElement("div",{className:"innerContainer"},r.a.createElement("p",null,r.a.createElement(S,{type:"day",value:a}),r.a.createElement("span",null,", I would like to "),r.a.createElement(S,{type:"section",value:t}),r.a.createElement("span",null,".")),r.a.createElement("p",null,r.a.createElement("span",null,"Show me "),r.a.createElement(S,{type:"price",value:c}),r.a.createElement("span",null," places that "),r.a.createElement(S,{type:"openNow",value:o}),r.a.createElement("span",null," and are less than "),r.a.createElement(S,{type:"radius",value:n}),r.a.createElement("span",null," away."))))}),C=function(e){var a=e.title,t=e.content;return r.a.createElement("div",{className:"innerContainer"},r.a.createElement("h2",{className:"commonTitle"},a),t&&r.a.createElement("p",null,t))},k=(t(69),function(e){var a=e.location,t=e.name,n=e.categories;return r.a.createElement("article",{className:"venue"},r.a.createElement("header",{className:"venue__header"},r.a.createElement("h3",null,t),r.a.createElement("p",{className:"venue__address"},a.address,", ",a.crossStreet,"."),n.length&&r.a.createElement("ul",{className:"venue__categs"},n.map(function(e){return r.a.createElement("li",{key:e.id,className:"venue__categ"},e.name)}))),r.a.createElement("div",{className:"venue__content"},r.a.createElement("div",{className:"venue__box venue__distance"},r.a.createElement("p",null,a.distance,"m")),r.a.createElement("div",{className:"venue__box venue__maps"},r.a.createElement("a",{href:"https://www.google.com/maps/?q=".concat(a.lat,",").concat(a.lng),target:"_blank"},"See on map"))))}),w=(t(71),function(e){var a=e.type,t=e.items;return r.a.createElement("section",{className:"venues__group"},r.a.createElement("h2",{className:"commonTitle"},a),t.map(function(e){var a=e.venue;return r.a.createElement(k,Object.assign({key:a.id},a))}))}),T=function(e){var a=e.venues;return r.a.createElement("div",{className:"innerContainer"},a.totalResults>3?a.groups.map(function(e){return e.items.length&&r.a.createElement(w,Object.assign({key:e.name},e))}):a.warning&&r.a.createElement(C,{title:"Try other options \u2191",content:a.warning.text}))},A=function(e){function a(){return Object(l.a)(this,a),Object(u.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getLocationParams()}},{key:"componentDidUpdate",value:function(e){var a=this.props,t=a.params,n=a.fetchVenues;JSON.stringify(t)!==JSON.stringify(e.params)&&n(t)}},{key:"render",value:function(){var e=this.props,a=e.params,t=e.loading,n=e.located,c=e.error,o=e.venues;return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("main",{role:"main"},r.a.createElement(j,a),!n&&r.a.createElement(C,{title:"Locating you...",content:"Share your current location to get recommendations!"}),t&&r.a.createElement(C,{title:"Loading..."}),c&&r.a.createElement(C,{title:"Error!",content:c}),o&&r.a.createElement(T,{venues:o})))}}]),a}(n.Component),R={fetchVenues:function(e){return function(a){return a({type:"FETCH_VENUES_REQUEST"}),Object(d.get)(f,{params:Object(E.a)({},v,e)}).then(function(e){return a({type:"FETCH_VENUES_SUCCESS",venues:e.data.response})}).catch(function(e){return a(function(e){return{type:"FETCH_VENUES_ERROR",error:e}}(e))})}},getLocationParams:function(){return function(e){return navigator.geolocation.getCurrentPosition(function(a){var t=a.coords;return e(g("".concat(t.latitude,",").concat(t.longitude)))},function(){return Object(d.get)(b).then(function(a){var t=a.data;return e(g("".concat(t.latitude,",").concat(t.longitude)))})})}}},U=Object(p.b)(function(e){return{venues:e.venues,params:e.params,loading:e.loading,located:e.located,error:e.error}},R)(A),F=t(5),V={venues:{},params:{day:"",section:"coffee",radius:500,price:"1,2",openNow:1,ll:""},loading:!1,located:!1,error:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_VENUES_REQUEST":return Object(E.a)({},e,{loading:!0,error:null});case"FETCH_VENUES_SUCCESS":return Object(E.a)({},e,{venues:a.venues,loading:!1});case"FETCH_VENUES_ERROR":return Object(E.a)({},e,{venues:{},loading:!1,error:a.error});case"UPDATE_PARAMS":return Object(E.a)({},e,{venues:{},params:Object(E.a)({},e.params,a.params)});case"LOCATE":return Object(E.a)({},e,{params:Object(E.a)({},e.params,{ll:a.ll}),located:!0});default:return e}},L=t(28),P=Object(F.c)(x,Object(F.a)(L.a));t(73);o.a.render(r.a.createElement(p.a,{store:P},r.a.createElement(U,null)),document.getElementById("app-root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.7202fe96.chunk.js.map